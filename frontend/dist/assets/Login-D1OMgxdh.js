import{d as c,r as t,j as e,L as x}from"./index-DWKqlycP.js";import{E as g}from"./ErrorBanner--am66j-U.js";const b=()=>{const{login:m}=c(),[a,i]=t.useState({username:"",password:""}),[n,o]=t.useState(null),[l,d]=t.useState(!1),u=s=>{i(r=>({...r,[s.target.name]:s.target.value}))},p=async s=>{s.preventDefault(),d(!0),o(null);try{await m(a)}catch(r){o(r?.message||"Login failed")}finally{d(!1)}};return e.jsxs("div",{className:"max-w-sm mx-auto mt-24 bg-white rounded shadow p-6",children:[e.jsx("h1",{className:"text-xl font-bold mb-4",children:"Sign in to CEI"}),n&&e.jsx(g,{error:n}),e.jsxs("form",{onSubmit:p,className:"flex flex-col gap-3",children:[e.jsx("input",{name:"username",type:"text",placeholder:"Username",className:"border rounded px-2 py-1",value:a.username,onChange:u,required:!0}),e.jsx("input",{name:"password",type:"password",placeholder:"Password",className:"border rounded px-2 py-1",value:a.password,onChange:u,required:!0}),e.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded mt-2",type:"submit",disabled:l,children:l?e.jsx(x,{small:!0}):"Login"})]})]})};export{b as default};
