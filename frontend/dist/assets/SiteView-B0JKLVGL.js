import{a as c,R as l,u as m,r as x,j as s,L as h}from"./index-C7K1swTl.js";import{u as j,a as p}from"./sites-6dUNJnIx.js";import{E as u}from"./ErrorBanner-Bpyi9OVi.js";import{P as f}from"./PageHeader-BimI-6XN.js";import{R as g,L as v,C as y,X as N,Y as b,T as L,a as w}from"./LineChart-BKyPSykG.js";const A=()=>{const{id:e}=c(),{data:a,loading:n,error:i}=j(()=>p(e)),[o,r]=l.useState([]),d=m();return x.useEffect(()=>{e&&fetch(`https://cei-mvp.onrender.com/api/v1/sites/${e}/metrics`).then(t=>t.json()).then(t=>r(t.metrics||[])).catch(()=>r([]))},[e]),n?s.jsx(h,{}):i?s.jsx(u,{error:i}):a?s.jsxs("div",{children:[s.jsx(f,{title:a.name}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"text-gray-600",children:["Location: ",a.location]}),s.jsxs("div",{className:"text-gray-600",children:["Status: ",a.status]}),s.jsxs("div",{className:"text-gray-600",children:["Last Updated: ",a.updated_at]})]}),s.jsxs("div",{className:"bg-white rounded shadow p-4 mb-6",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Metrics"}),s.jsx(g,{width:"100%",height:220,children:s.jsxs(v,{data:o,children:[s.jsx(y,{strokeDasharray:"3 3"}),s.jsx(N,{dataKey:"timestamp"}),s.jsx(b,{}),s.jsx(L,{}),s.jsx(w,{type:"monotone",dataKey:"value",stroke:"#16a34a",dot:!1})]})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold mb-2",children:"Raw Data"}),s.jsx("pre",{className:"bg-gray-100 rounded p-2 text-xs overflow-x-auto",children:JSON.stringify(a,null,2)})]}),s.jsx("button",{className:"mt-4 bg-gray-200 px-4 py-1 rounded",onClick:()=>d(-1),children:"Back"})]}):null};export{A as default};
